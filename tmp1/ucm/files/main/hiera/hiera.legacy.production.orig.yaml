---
:backends:
  - yaml
  - http

:http:
  :host: 10.134.120.83
  :port: 5984
  :output: json
  :failure: graceful
  :paths:
    - /configuration/%{fqdn}
    - /configuration/%{environment}
    - /configuration/common
    - /storagedata/%{fqdn}
    - /oraclerac/%{fqdn}
    - /vcs/%{fqdn}
    - /fig/%{fqdn}

:hierarchy:
# Low level
# Scope = Node, application, platform specific
  - "%{fqdn}"
  - "nodes/%{hostname}"
  - "data/%{product}/%{clientcert}"
  - "data/%{product}/%{clientcert}"
  - "data/%{product}/%{env}/%{child}"
  - "data/%{product}/%{envloc}"
  - "data/%{product}/%{env}"
  - "data/%{product}/%{building}"
  - "data/%{product}/%{centrify_domain}"
  - "data/%{product}/%{majorenv}_${child}"
  - "data/%{product}/%{majorenv}"
  - "data/%{product}/%{child}"
  - "data/%{product}/main"
  - "data/%{product}/global"
  - "data/%{product}"
  - "modules/%{product}/data/%{clientcert}"
  - "modules/%{product}/data/%{fqdn}"
  - "modules/%{product}/data/%{hostname}"
  - "modules/%{product}/data/%{child}"
  - "modules/%{product}/data/%{child}/%{envloc}"
  - "modules/%{product}/data/%{child}/%{env}"
  - "modules/%{product}/data/%{child}/%{building}"
  - "modules/%{product}/data/%{child}/%{centrify_domain}"
  - "modules/%{product}/data/%{child}/%{majorenv}"
  - "modules/%{product}/data/%{envloc}"
  - "modules/%{product}/data/%{env}"
  - "modules/%{product}/data/%{building}"
  - "modules/%{product}/data/%{centrify_domain}"
  - "modules/%{product}/data/%{majorenv}"
  - "modules/%{product}/data/global"
  - "system/filesystems/%{fskey}"
  - "system/sysctl/%{syskey}"
  - "system/%{syskey}"
  - "applications/%{appinst}/%{appinst}"
  - "applications/%{appinst}/%{appenv}"
  - "applications/%{instance_name}/mw_envs/%{mw_env}"
  - "applications/%{instance_name}/properties"
  - "applications/%{instance_name}"
  - "applications/%{mw_instance_name}/mw_envs/%{mw_env}"
  - "applications/%{mw_instance_name}/properties"
  - "applications/%{mw_instance_name}"
  - "applications/%{app}"
  - "applications/%{appsubclass}"
  - "applications/%{app}.%{appsubclass}"
  - "deploy/applications/%{deploykey}"
  - "vcs/%{role}"
  - "vcs/global"
  - "data/%{datafor}/properties"
  - "data/%{datafor}/tdaenv/%{envloc}"
  - "tdaenv/%{asscli}/%{building}/%{env}/global"
  - "tdaenv/%{asscli}/%{building}/%{env}"
  - "tdaenv/%{asscli}/%{building}/global"
  - "tdaenv/%{asscli}/%{building}"
  - "tdaenv/%{envloc}"
  - "tdaenv/%{env}"
  - "tdaenv/%{tda_major_env}"
  - "datacenter/%{building}"
  - "%{environment}"
  - "databases/oracle"
  - "databases/postgresql"
  - "databases/%{db}"
  - common
  - global
  - defaults
  - puppetfile


# Mid to high level
# Scope of infrastructure
  - "tdaenv/%{asscli}/%{building}/%{env}/global"
  - "tdaenv/%{asscli}/%{building}/%{env}"
  - "tdaenv/%{asscli}/%{building}/global"
  - "tdaenv/%{asscli}/%{building}"
  - "tdaenv/%{envloc}"
  - "tdaenv/%{env}"
  - "tdaenv/%{tda_major_env}"
  - "datacenter/%{building}"

# High Level
# Scope of Puppet environment and global
  - "%{environment}"
  - "databases/oracle"
  - "databases/postgresql"
  - "databases/%{db}"
  - common
  - global
  - defaults



:yaml:
# datadir is empty here, so hiera uses its defaults:
# - /var/lib/hiera on *nix
# - %CommonAppData%\PuppetLabs\hiera\var on Windows
# When specifying a datadir, make sure the directory exists.
  :datadir: '/etc/puppetlabs/puppet/hiera/%{environment}/hieradata'

:eyaml:
  :datadir: '/etc/puppetlabs/puppet/hiera/%{environment}/hieradata'

  # If using the pkcs7 encryptor (default)
  :pkcs7_private_key: /etc/puppetlabs/puppet/eyamlkeys/private_key_file.pem
  :pkcs7_public_key:  /etc/puppetlabs/puppet/eyamlkeys/public_key_file.pem
