---
:backends:
  - json
  - yaml

:json:
  :datadir: "/etc/puppetlabs/code/hiera/%{environment}/hieradata/"

:yaml:
  :datadir: "/etc/puppetlabs/code/hiera/%{environment}/hieradata/"

:hierarchy:
  - "%{fqdn}"
  - "%{execfqdn}"
  - "%{hostname}"

  - "modules/%{ucmos}/data/%{clientcert}"
  - "modules/%{ucmos}/data/%{fqdn}"
  - "modules/%{ucmos}/data/%{hostname}"
  - "modules/%{ucmos}/data/%{child}"
  - "modules/%{ucmos}/data/%{child}/%{envloc}"
  - "modules/%{ucmos}/data/%{child}/%{env}"
  - "modules/%{ucmos}/data/%{child}/%{building}"
  - "modules/%{ucmos}/data/%{child}/%{centrify_domain}"
  - "modules/%{ucmos}/data/%{child}/%{el}"
  - "modules/%{ucmos}/data/%{child}/%{majorenv}"
  - "modules/%{ucmos}/data/%{envloc}"
  - "modules/%{ucmos}/data/%{env}"
  - "modules/%{ucmos}/data/%{building}"
  - "modules/%{ucmos}/data/%{centrify_domain}"
  - "modules/%{ucmos}/data/%{majorenv}"
  - "modules/%{ucmos}/data/global"

  - "modules/%{product}/data/%{clientcert}"
  - "modules/%{product}/data/%{fqdn}"
  - "modules/%{product}/data/%{hostname}"
  - "modules/%{product}/data/%{child}"
  - "modules/%{product}/data/%{child}/%{envloc}"
  - "modules/%{product}/data/%{child}/%{env}"
  - "modules/%{product}/data/%{child}/%{building}"
  - "modules/%{product}/data/%{child}/%{centrify_domain}"
  - "modules/%{product}/data/%{child}/%{majorenv}"
  - "modules/%{product}/data/%{envloc}"
  - "modules/%{product}/data/%{env}"
  - "modules/%{product}/data/%{building}"
  - "modules/%{product}/data/%{centrify_domain}"
  - "modules/%{product}/data/%{majorenv}"
  - "modules/%{product}/data/global"

  # This structure supports migrating data from previous data paths to a module data path
  - "modules/%{product}/data/%{product}/%{clientcert}"
  - "modules/%{product}/data/%{product}/%{clientcert}"
  - "modules/%{product}/data/%{product}/%{env}/%{child}"
  - "modules/%{product}/data/%{product}/%{envloc}"
  - "modules/%{product}/data/%{product}/%{env}"
  - "modules/%{product}/data/%{product}/%{building}"
  - "modules/%{product}/data/%{product}/%{centrify_domain}"
  - "modules/%{product}/data/%{product}/%{majorenv}_${child}"
  - "modules/%{product}/data/%{product}/%{majorenv}"
  - "modules/%{product}/data/%{product}/%{child}"
  - "modules/%{product}/data/%{product}/main"
  - "modules/%{product}/data/%{product}/global"
  - "modules/%{product}/data/%{product}"

  - "modules/%{smeucmplatform}/data/%{clientcert}"
  - "modules/%{smeucmplatform}/data/%{fqdn}"
  - "modules/%{smeucmplatform}/data/%{hostname}"
  - "modules/%{smeucmplatform}/data/%{child}"
  - "modules/%{smeucmplatform}/data/%{child}/%{envloc}"
  - "modules/%{smeucmplatform}/data/%{child}/%{env}"
  - "modules/%{smeucmplatform}/data/%{child}/%{building}"
  - "modules/%{smeucmplatform}/data/%{child}/%{centrify_domain}"
  - "modules/%{smeucmplatform}/data/%{child}/%{majorenv}"
  - "modules/%{smeucmplatform}/data/%{envloc}"
  - "modules/%{smeucmplatform}/data/%{env}"
  - "modules/%{smeucmplatform}/data/%{building}"
  - "modules/%{smeucmplatform}/data/%{centrify_domain}"
  - "modules/%{smeucmplatform}/data/%{majorenv}"
  - "modules/%{smeucmplatform}/data/global"

  - "modules/%{smeucmtool}/data/%{clientcert}"
  - "modules/%{smeucmtool}/data/%{fqdn}"
  - "modules/%{smeucmtool}/data/%{hostname}"
  - "modules/%{smeucmtool}/data/%{child}"
  - "modules/%{smeucmtool}/data/%{child}/%{envloc}"
  - "modules/%{smeucmtool}/data/%{child}/%{env}"
  - "modules/%{smeucmtool}/data/%{child}/%{building}"
  - "modules/%{smeucmtool}/data/%{child}/%{centrify_domain}"
  - "modules/%{smeucmtool}/data/%{child}/%{majorenv}"
  - "modules/%{smeucmtool}/data/%{envloc}"
  - "modules/%{smeucmtool}/data/%{env}"
  - "modules/%{smeucmtool}/data/%{building}"
  - "modules/%{smeucmtool}/data/%{centrify_domain}"
  - "modules/%{smeucmtool}/data/%{majorenv}"
  - "modules/%{smeucmtool}/data/global"

  - "data/%{product}/%{clientcert}"
  - "data/%{product}/%{clientcert}"
  - "data/%{product}/%{env}/%{child}"
  - "data/%{product}/%{envloc}"
  - "data/%{product}/%{env}"
  - "data/%{product}/%{building}"
  - "data/%{product}/%{centrify_domain}"
  - "data/%{product}/%{majorenv}_${child}"
  - "data/%{product}/%{majorenv}"
  - "data/%{product}/%{child}"
  - "data/%{product}/main"
  - "data/%{product}/global"
  - "data/%{product}"

  - "%{application}/%{envloc}/${child}"
  - "%{application}/%{env}/${child}"
  - "%{application}/%{envloc}"
  - "%{application}/%{env}"
  - "%{application}/%{building}"
  - "%{application}/main"

  - "%{app}"
  - "%{envloc}"
  - "%{env}_%{building}"
  - "%{env}"
  - "%{building}"

  - base
  - common

